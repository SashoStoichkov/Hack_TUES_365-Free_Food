<!DOCTYPE html>
<html>

<head>
	<title>Watch it</title>

	<meta charset="UTF-8">
	
	<meta name="viewport" content="width=device-width, initial-scale=1.0">

	<link rel="stylesheet" href="kino-tab.css">
</head>

<style>
        th, td,  input {
        	background-color: white;
            font:14px Verdana;
            margin-left: 10px;
            float : right;
            color: black;
        }
         th, td 
        {
            border: solid 1px #DDD;
            border-collapse: collapse;
            padding: 2px 3px;
            text-align: center;
        }
        table{
        	float: right;
        	margin-top:0px;
        	margin-right:250px;
        }
        th {
            font-weight:bold;
        }
    </style>

<body>
	 <p id="showData"></p>


<ul id="ul1">
	<li class="menulist"><a class="menulista" href="../home.html">Начало</a></li>
	<li class="menulist"><a class="menulista" href="../theatre.html">Театър</a></li>
	<li class="menulist"><a class="menulista" href="../cinema.html">Кино</a></li>
	<li class="menulist"><a class="menulista" href="../most%20popular.html">Популярни</a></li>
</ul>

<div id="about-the-page">
	<div id="fuckit">
		<h1 id="about">Информация</h1>
	</div>
	<div class="row">
		<div class="cell">
			<img id = "film-img" src="../img/il.jpg" alt="lol">
		</div>
		<div id="json-table" style > </div>
            
		  </div>
    </div>
    <button  style = "margin-left:150px; width:80px; height : 20px;"type="button1" onclick="CreateTableFromJSON()" value="button3" id="button1" />
	
    <script>
    var xmlhttp = new XMLHttpRequest();
xmlhttp.onreadystatechange = function() {
  if (this.readyState == 4 && this.status == 200) {
    var myObj = JSON.parse(this.responseText);
    document.getElementById("demo").innerHTML = myObj.name;
  }
};
xmlhttp.open("GET", "/cinema_data", true);
xmlhttp.send();


var a;
document.getElementById('button1').addEventListener('click', function(myObj) {
	
	a=1;
})
document.getElementById('Button2').addEventListener('click', function(myObj) {
	a=2;
})
document.getElementById('Button3').addEventListener('click', function(myObj) {
	a=3;
})
    function CreateTableFromJSON(myObj) {
        /* var myBooks = [
             {
                 "Book ID": "1",
                 "Book Name": "Asp.Net 4 Blue Book",
                 "Category": "Programming",
                 "Price": "56.00"
                
             },
             {
                 "Book ID": "2",
                 "Book Name": "Asp.Net 4 Blue Book",
                 "Category": "Programming",
                 "Price": "56.00"
             },
             {
                 "Book ID": "3",
                 "Book Name": "Popular Science",
                 "Category": "Science",
                 "Price": "210.40"
             },
         ]
*/
}
        
        

        
        var col = [];
        for (var i = 0; i < myBooks.length; i++) {
            for (var key in myBooks[i]) {
                if (col.indexOf(key) == -1) {
                    col.push(key);
                }
            }
        }

        
        var table = document.createElement("table");

        

        var tr = table.insertRow(-1);                   
        for (var i = 0; i < col.length; i++) {
            var th = document.createElement("th");  
            
            th.innerHTML = col[i];
            tr.appendChild(th);
        }

        for (var i = 0; i < myBooks.length; i++) {
            if(myBooks[i][col[0]]!=a)continue;
            tr = table.insertRow(-1);

            for (var j = 0; j < col.length; j++) {
                var tabCell = tr.insertCell(-1);
                tabCell.innerHTML = myBooks[i][col[j]];
            }
        }

        var divContainer = document.getElementById("showData");
        divContainer.innerHTML = "";
        divContainer.appendChild(table);
       // document.getElementById("json-table").appendChild(table);
    }

</script>

    
</div>

</body>

</html>